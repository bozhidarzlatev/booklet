<section class="book-details-page">

        <!-- Book Content Section -->
        <div class="book-content">
            <!-- Book Image Section -->
            <div class="book-image-container">
                <img 
                    src="{{book.imageUrl}}" 
                    alt="Harry Potter and Something" 
                    class="book-image-large"
                />
            </div>
    
            <!-- Book Information Section -->
            <div class="book-info">
                <h1 class="book-title">{{book.title}}</h1>
                <p class="book-author"><strong>Author:</strong> {{book.author}}</p>
                <p class="book-genre"><strong>Genre:</strong> {{book.genre}}</p>
                <p class="book-year"><strong>Published Year:</strong>   {{book.year}}</p>
                <p class="book-rating"><strong>Rating:</strong> {{book.rating || 'n/a'}}</p>
                <p class="book-distributor"><strong>Distributor:</strong> {{book.ownerName}}</p>
                              
                
                <!-- Book Description -->
                <div class="book-description">
                    <h2>Description</h2>
                    <p>
                        {{book.description}}
                    </p>
                </div>
            </div>
            
            <!-- Interactive Buttons Section -->
             @if (isLoggedIn) {

                 <div class="book-actions">
                     <p class="book-price"><strong>Price:</strong> {{book.price}} lv.</p>
                     @if (!isOwner) {
                     <button class="add-to-cart-btn" (click)="addToCart()">Add to Cart</button>
                         <button class="review-btn" routerLink="/all/details/{{book._id}}/review">Add review</button>
                        } @else { 

                            <button class="review-btn" routerLink="/all/details/{{book._id}}/edit">Edit book</button>
                            <button class="review-btn" (click)="deleteBook()"  >Delete book</button>
                        }
                    </div>
                }
        </div>
        
        
        <!-- @if (book.rating) { -->
        <hr>

  
<section class="cart-container">
    <h1>Reviews </h1>
    @if (!book.rating) {

        <h2 class="no-items">No reviews for this book</h2>
    } @else {

        <ul class="cart-list">
            
                    <div class="cart-item" >
                        <div class="book-info" routerLink="/all/details/">
                            <h2 class="book-title">User</h2>
                            <div class="tooltip" >
                                <img src="" />
                            </div>
                        </div>
                        <div class="book-info" >
                            <p class="book-author">Review</p>
                        </div>
                        <div class="book-date" >
                            <p class="book-author">Uploaded</p>
                        </div>
                        <div>

                            <p class="book-price">Rating</p>
                        </div>
                    </div>
                    
                </ul>

    @for (review of reviews; track $index) {
        
        <ul class="cart-list">
            
            <div class="cart-item" >
                <div class="book-title" routerLink="/all/details/">
                    <h2 class="book-title">{{review.ownerName}}</h2>
                </div>
                <div class="book-info" >
                    <p class="book-review">{{review.review }}</p>
                </div>
                <div class="book-date" >
                    <p class="book-author">{{review.created_at |  elapsedTime}}</p>
                </div>
                <div>
                    <p class="book-price">{{review.rating}}</p>
                </div>
            </div>
            
        </ul>
        
    }


                
            } 
            
            @if (isLoggedIn && !isOwner) {

                <div class="button-container">
                    <button class="place-order-btn" routerLink="/all/details/{{book._id}}/review">Add review!</button>
                </div>
            }
    



    </section>



    <!-- } -->


    <!-- Related Books or Recommendations -->
    <hr>
    <div class="more-books">

             <div class="related-books">
                 <h2>More from author</h2>
                 <div class="related-book-list">
                     <div class="related-book">
                         <img src="https://via.placeholder.com/100" alt="Book Title" />
                         <p>Another Magical Tale</p>
                        </div>
                        <div class="related-book">
                            <img src="https://via.placeholder.com/100" alt="Book Title" />
                            <p>Fantastic Beasts</p>
                        </div>
                        <div class="related-book">
                            <img src="https://via.placeholder.com/100" alt="Book Title" />
                            <p>Fantastic Beasts</p>
                        </div>
                    </div>
                </div>



                
  

                <div class="distributors-books">
                    <h2>More from distrubutor</h2>
                    <div class="distributors-book-list">
                        <div class="distributors-book">
                            <img src="https://via.placeholder.com/100" alt="Book Title" />
                            <p>Another Magical Tale</p>
                           </div>
                           <div class="distributors-book">
                               <img src="https://via.placeholder.com/100" alt="Book Title" />
                               <p>Fantastic Beasts</p>
                           </div>
                           <div class="distributors-book">
                            <img src="https://via.placeholder.com/100" alt="Book Title" />
                            <p>Fantastic Beasts</p>
                        </div>
                       </div>
                   </div>
            </div>

    
    
</section>